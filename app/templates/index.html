<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>InsightGPT – AI-Powered CSV Insights</title>
    <style>
        body {
            font-family: system-ui, -apple-system, BlinkMacSystemFont, "Segoe UI", sans-serif;
            margin: 0;
            padding: 0;
            background: #0f172a;
            color: #e5e7eb;
        }
        .container {
            max-width: 960px;
            margin: 0 auto;
            padding: 2rem 1rem 4rem;
        }
        header {
            display: flex;
            justify-content: space-between;
            align-items: center;
            margin-bottom: 2rem;
        }
        h1 {
            font-size: 1.8rem;
            margin: 0;
        }
        .tagline {
            color: #9ca3af;
            font-size: 0.95rem;
        }
        .card {
            background: #020617;
            border-radius: 0.75rem;
            padding: 1.5rem;
            margin-bottom: 1.5rem;
            box-shadow: 0 18px 40px rgba(0,0,0,0.35);
            border: 1px solid #1f2937;
        }
        .card h2 {
            margin-top: 0;
            font-size: 1.2rem;
        }
        label {
            display: block;
            font-size: 0.9rem;
            margin-bottom: 0.5rem;
            color: #9ca3af;
        }
        input[type="file"] {
            display: block;
            margin-bottom: 0.75rem;
        }
        button {
            background: #6366f1;
            border: none;
            color: white;
            padding: 0.6rem 1.2rem;
            border-radius: 999px;
            font-size: 0.9rem;
            cursor: pointer;
        }
        button:hover {
            background: #4f46e5;
        }
        ul {
            list-style: none;
            padding-left: 0;
            margin: 0.5rem 0 0;
        }
        li + li {
            margin-top: 0.35rem;
        }
        a {
            color: #a5b4fc;
            text-decoration: none;
        }
        a:hover {
            text-decoration: underline;
        }
        .flash-list {
            list-style: none;
            padding-left: 0;
            margin: 0 0 1rem;
        }
        .flash-item {
            padding: 0.6rem 0.8rem;
            border-radius: 0.5rem;
            font-size: 0.85rem;
            margin-bottom: 0.4rem;
        }
        .flash-item strong {
            margin-right: 0.3rem;
        }
        .flash-success {
            background: rgba(22, 163, 74, 0.1);
            border: 1px solid rgba(22, 163, 74, 0.6);
        }
        .flash-error {
            background: rgba(220, 38, 38, 0.1);
            border: 1px solid rgba(220, 38, 38, 0.6);
        }
        footer {
            margin-top: 2rem;
            font-size: 0.8rem;
            color: #6b7280;
            text-align: center;
        }
        .pill {
            display: inline-block;
            padding: 0.25rem 0.6rem;
            border-radius: 999px;
            border: 1px solid #374151;
            font-size: 0.75rem;
            color: #9ca3af;
        }
    </style>
</head>
<body>
<div class="container">
    <header>
        <div>
            <h1>InsightGPT</h1>
            <div class="tagline">AI-powered CSV insights with Pandas + Gemini</div>
        </div>
        <span class="pill"> Project By Rodas G.</span>
    </header>

    <!-- Flash messages -->
    {% with messages = get_flashed_messages(with_categories=true) %}
      {% if messages %}
        <ul class="flash-list">
        {% for category, message in messages %}
          <li class="flash-item flash-{{ category }}">
            <strong>{{ category|capitalize }}:</strong> {{ message }}
          </li>
        {% endfor %}
        </ul>
      {% endif %}
    {% endwith %}

    <div class="card">
        <h2>Upload a CSV</h2>
        <p style="margin-top: 0.2rem; color: #9ca3af; font-size: 0.9rem;">
            Drop in any tabular dataset – we’ll compute statistics and generate AI insights.
        </p>
        <form action="{{ url_for('main.upload') }}" method="POST" enctype="multipart/form-data">
            <label for="file">Select a CSV file</label>
            <input type="file" id="file" name="file" accept=".csv" required>
            <button type="submit">Upload &amp; Analyze</button>
        </form>
    </div>

    <div class="card">
        <h2>Uploaded Datasets</h2>
        {% if files %}
            <ul>
            {% for f in files %}
                <li>
                    <a href="{{ url_for('main.dataset_detail', filename=f) }}">
                        {{ f }}
                    </a>
                </li>
            {% endfor %}
            </ul>
        {% else %}
            <p style="color:#9ca3af; font-size:0.9rem;">No files uploaded yet. Start by adding a CSV above.</p>
        {% endif %}
    </div>

    <footer>
        AI-Powered CSV Insights Generator • Flask • Pandas • Gemini
    </footer>
</div>
</body>
</html>
